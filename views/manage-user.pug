extends base

include _users-modals

block main
  section.section
    .row
      .col-lg-12
        .card
          .card-body
            .mt-3.mb-2.d-flex.justify-content-end
              button.btn.btn-sm.btn-secondary.me-2(type='button' data-bs-toggle='modal' data-bs-target=`#modal-add-obj`)
                i.bi.bi-plus-lg.me-1
                |  Tambah Data

            // Table with stripped rows
            .table-responsive
              table.table.table-hover.datatable#user-table
                thead
                  tr
                    th Id
                    th E-Mail
                    th Fullname
                    th CreatedAt
                    th UpdatedAt
                    th
                tbody
                  each userObj in users
                    tr
                      td= userObj.id
                      td= userObj.email
                      td= userObj.fullname
                      td= userObj.createdAt
                      td= userObj.updatedAt
                      td
                        button.btn.btn-sm.btn-success.me-1.mb-1(type='button' data-bs-toggle='modal' data-bs-target=`#modal-update-obj-${userObj.id}`)
                          i.bi.bi-pencil-square
                        button.btn.btn-sm.btn-danger.btn--trash-user(type='button' data-bs-toggle='modal' data-bs-target=`#modal-delete-obj-${userObj.id}`)
                          i.bi.bi-trash
            // End Table with stripped rows

  // Add User Modal
  +addUserModal()

  each userObj in users
    // Update User Modals
    +updateUserModal(userObj)

    // Delete User Modals
    +delModal(userObj.id, 'user', userObj.email)